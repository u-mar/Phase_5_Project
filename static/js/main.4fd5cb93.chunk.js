/*! For license information please see main.4fd5cb93.chunk.js.LICENSE.txt */
(this.webpackJsonpjavascript=this.webpackJsonpjavascript||[]).push([[0],{126:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(2),r=a(6),o=a(20),i=a(0),s=a.n(i),c=a(78),l=a(128),u=a(47),d=a.n(u),p=(a(452),function(e){return e.filter((function(e){return!isNaN(parseFloat(e))&&isFinite(e)})).reduce((function(e,t){return e+parseFloat(t)}),0)}),h=d()(window.Plotly),m=window.Plotly.d3,f=function(e){return!!e.current&&e.current.getBoundingClientRect().width<900},g=function(e){return"scatter"===e.type&&e.fill&&"tonexty"===e.fill},v=function(e){return"scatter"===e.type&&e.fill&&"toself"===e.fill},b=function(e){(g(e)||v(e))&&(e.visible=!e.visible)},y=function(e){return e.map((function(t,a){if(g(t)){var n=function(e,t){var a=t[e-1];return v(a)?a:null}(a,e);if(n){t.text=Object(o.a)(n.y);var r=p(n.y)>p(t.y);t.hovertemplate=r?"(%{x}, %{y} - %{text})":"(%{x}, %{text} - %{y})"}}})),e},O=function(e,t){return t?e.map((function(e){return e.visible=!0,e})):e.map((function(e){return e.visible=e.visibleByDefault,e}))},E={hovermode:"closest",xaxis:{title:{standoff:1}},legend:{orientation:"v",traceorder:"normal"},margin:{t:0,r:15}};function w(e){var t=Object(i.useRef)(),a=Object(i.useRef)(!1),c=Object(i.useRef)(),u=Object(l.a)({triggerOnce:!0}),d=Object(r.a)(u,2),p=d[0],w=d[1],j=Object(i.useState)(e.complete),_=Object(r.a)(j,2),S=_[0],k=(_[1],Object(i.useState)(O(Object(o.a)(e.graph_data),S))),x=Object(r.a)(k,2),C=x[0],N=x[1],A=Object(i.useState)(Object(n.a)(Object(n.a)({},E),e.layout_data)),L=Object(r.a)(A,2),D=L[0],T=L[1];Object(i.useEffect)((function(){return window.addEventListener("resize",I),function(){window.removeEventListener("resize",I)}}),[]),Object(i.useEffect)((function(){T(Object(n.a)(Object(n.a)({},E),e.layout_data)),N(O(Object(o.a)(e.graph_data),S))}),[e.layout_data,e.graph_data]);var I=function(){if(e.responsive){var t=Object(n.a)({},D);t.legend.orientation=f(c)?"h":"v";var a=function(e){return function(t){return"Stacked Bars"===t.name&&(t.line.width=e),t}},r="h"===t.legend.orientation?C.map(a(8)):C.map(a(18));N(r),T(t)}};return s.a.createElement("div",{ref:function(e){e&&!a.current&&(a.current=!0,c.current=e,I())}},s.a.createElement("div",{ref:p,className:"graph_embed"},w&&s.a.createElement(h,{ref:t,useResizeHandler:!0,data:function(e){return y(e)}(C),layout:function(e){return e.yaxis=Object(n.a)(Object(n.a)({},e.yaxis||{}),{title:"EMISSIONS [MtCO\u2082e/year]",tickformat:0}),e.xaxis=Object(n.a)(Object(n.a)({},e.xaxis||{}),{},{title:"Years"}),e}(D),style:{height:"500px",width:"100%"},onLegendClick:function(e){var t=e.data,a=e.expandedIndex;if(g(t[a])&&v(t[a-1])){var n=Object(o.a)(t),r=n[a],i=n[a-1];b(r),b(i)}},onAfterPlot:function(){f(c)||function(e){e&&e.current&&m.select(e.current.el).select(".svg-container .legend .bg:not(.bg--processed)").attr("class","bg bg--processed").attr("height",(function(){var t=parseInt(this.attributes.height.value)+66;return m.select(e.current.el).select(".svg-container .legend").append("svg:image").attr("x",40).attr("y",t-36).attr("width",60).attr("height",36).attr("xlink:href","/static/images/logo.svg"),t}))}(t),f(c)&&function(e){e&&e.current&&m.select(e.current.el).select(".xtitle:not(.xtitle--processed)").attr("class","xtitle xtitle--processed").attr("y",(function(){return parseInt(this.attributes.y.value)-15}))}(t),e.onAfterPlot&&e.onAfterPlot(t)}})))}w.defaultProps={complete:!1,responsive:!1};t.b=w;var j=Object(c.b)((function(e){return{graph_data:e.graph_data,layout_data:e.layout_data,complete:!0}}),null)(w)},130:function(e,t,a){"use strict";function n(e){return(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3>=128?"black":"white"}a.d(t,"a",(function(){return n}))},132:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return p}));var n=a(2),r=a(131),o=a(125),i=a(20),s=a(162),c=function(e,t){var a,n=[],r=Object(s.c)(Object(i.a)(t)),c=Object(s.b)(Object(i.a)(e)).reverse(),l=Object(o.a)(c);try{for(l.s();!(a=l.n()).done;){var u=a.value.buildShape(r);u&&(n=n.concat(u))}}catch(d){l.e(d)}finally{l.f()}return n},l=Object(r.b)((function(e,t){switch(t.type){case"TOGGLE_SEARCH_PANEL":return Object(n.a)(Object(n.a)({},e),{searchPanelVisible:!e.searchPanelVisible});case"UPDATE_CSV_DATA":return Object(n.a)(Object(n.a)({},e),{csv_data:t.data,graph_data:c(e.config,t.data)});case"UPDATE_LAYOUT_DATA":return Object(n.a)(Object(n.a)({},e),{layout_data:t.data});case"UPDATE_CONFIG":return Object(n.a)(Object(n.a)({},e),{config:t.data,graph_data:c(t.data,e.csv_data)});default:return e}}),{csv_data:[],graph_data:[],layout_data:{},config:[]});t.a=l;function u(e){return{type:"UPDATE_CSV_DATA",data:e}}function d(e){return{type:"UPDATE_LAYOUT_DATA",data:e}}function p(e){return{type:"UPDATE_CONFIG",data:e}}},162:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return s}));var n=a(6),r=a(125);function o(e){var t=s(e);return t&&(e=e.slice(t)),e}function i(e){return e.sort((function(e,t){return e.attributes.weight===t.attributes.weight?e.name<t.name?-1:e.name>t.name?1:0:e.attributes.weight<t.attributes.weight?-1:1}))}function s(e){var t,a=Object(r.a)(e.entries());try{for(a.s();!(t=a.n()).done;){var o=Object(n.a)(t.value,2),i=o[0],s=o[1];if(s&&void 0!==s&&s.length>0&&s[0]&&s[0].match(/^[19|20|21]{2}[0-9]{2}$/g))return i}}catch(c){a.e(c)}finally{a.f()}}},166:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return c}));var n=a(21),r=a(2),o=a(6);function i(e,t){var a=Object.keys(t);return Object.entries(e).reduce((function(e,i){var s=Object(o.a)(i,2),c=s[0],l=s[1];return a.includes(c)?Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},c,l.map((function(e){return t[c].find((function(t){return t.value===e}))})))):e}),{})}function s(e,t){return Object.entries(e).reduce((function(e,a){var i=Object(o.a)(a,2),s=i[0],c=i[1];return Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},s,t[s]?c:c.slice(0,1)))}),{})}function c(e){return Object.entries(e).reduce((function(e,t){var a=Object(o.a)(t,2),i=a[0],s=a[1];return Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},i,s.map((function(e){return e.value}))))}),{})}},167:function(e,t,a){"use strict";var n=a(6);t.a=function(e){return Object.entries(e).reduce((function(e,t){var a=Object(n.a)(t,2),r=a[0],o=a[1];return Array.isArray(o)?o.forEach((function(t){return e.push("".concat(r,"=").concat(t))})):e.push("".concat(r,"=").concat(o)),e}),[]).join("&")}},222:function(e,t,a){"use strict";var n=a(21),r=a(2);t.a=function(e){return Object.keys(e).sort().reduce((function(t,a){return Object(r.a)(Object(r.a)({},t),{},Object(n.a)({},a,e[a]))}),{})}},223:function(e,t,a){"use strict";a.d(t,"a",(function(){return Z}));var n=a(21),r=a(2),o=a(20),i=a(73),s=a(6),c=a(0),l=a.n(c),u=a(226),d=a.n(u),p=a(227),h=a.n(p),m=a(228),f=a(229),g=a.n(f),v=a(99),b=a(72),y=a(71),O=a.n(y),E=a(100),w=a(167),j="/data-portal/api/records/",_=function(e,t){var a=t.validationErrors,n=void 0===a?void 0:a,r=new Error(e);return r.validationErrors=n,r};function S(){return(S=Object(E.a)(O.a.mark((function e(t){var a,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(w.a)(t),e.prev=1,e.next=4,fetch("".concat(j).concat(a.length?"?"+a:""),{credentials:"include"});case 4:return n=e.sent,e.next=7,n.json();case 7:if(r=e.sent,!n.ok){e.next=10;break}return e.abrupt("return",r);case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),new _(e.t0.stack,{message:e.t0.message});case 15:throw new _("Validation error",{message:n.statusText,status:n.status,validationErrors:r});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}var k={query:function(e){return S.apply(this,arguments)}};var x=function(e,t){return Object.entries(e).reduce((function(e,a){var o=Object(s.a)(a,2),i=o[0],c=o[1];return Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},i,c.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{originalValue:e.value,value:"indicators"===t?e.normalized_value:e.value})}))))}),{})};var C=function(e){var t=e.checked,a=e.onChange,n=e.label,r=e.name,o="id-".concat(Math.random());return l.a.createElement("div",{className:"form-check"},l.a.createElement("input",{id:o,className:"form-check-input",type:"checkbox",checked:t,onChange:a,name:r}),l.a.createElement("label",{htmlFor:o,className:"form-check-label"},n))},N=a(47),A=a.n(N),L=A()(window.Plotly),D=function(e,t){return Math.max.apply(Math,Object(o.a)(e.map((function(e){return Math.max.apply(Math,Object(o.a)(e[t]))}))))},T=function(e,t){return Math.min.apply(Math,Object(o.a)(e.map((function(e){return Math.min.apply(Math,Object(o.a)(e[t]))}))))},I=l.a.forwardRef((function(e,t){var a=e.graphData,n=e.graphOptions,o=e.mode,i=e.title,s=e.onItemHover,u=e.onItemUnhover,d=e.plotHeight,p=e.plotWidth,h=e.onAfterPlot,m=e.displayConfig,f=void 0===m?{image:{sizex:20,sizey:20},logo:{sizex:.15,sizey:.15,x:1,y:1}}:m,g=a.map((function(e){return e.traces})).flat(1),v="indicators"===o?T(g,"y"):0,b=D(g,"y"),y=T(g,"x"),O=y<2020?y:2020,E=D(g,"x"),w=E,j=b+.1*b,_=(new Date).getFullYear(),S=function(e){return e/(p/(w-O))},k=[Object(r.a)({source:"/static/images/logo.svg",xref:"paper",yref:"paper",yanchor:"bottom",xanchor:"right",layer:"above"},f.logo)];n.images&&(k=k.concat(a.map((function(e){return e.images})).flat(1).map((function(e){return Object(r.a)(Object(r.a)({},e),{},{sizey:(t=18,t/(d/(j-v))),sizex:S(30),y:e.y+(j-v)/d*5,x:e.x+(w-O)/p*5});var t}))));var x=E>_?[{type:"line",x0:_,y0:0,x1:_,y1:b,line:{color:"rgba(63, 152, 191, 0.5)",width:2}}]:[],C={title:i,font:{size:16},showlegend:!1,hovermode:"closest",yaxis:{title:{font:{size:14,color:"#aaa"},text:"indicators"===o?"combined index (all values in first historical year = 1)":g[0].customdata.unit},automargin:!0,fixedrange:!1,gridcolor:"#ccc",showgrid:n.YAxis,linewidth:1,linecolor:"#ddd",showline:!0,range:[v,j]},xaxis:{title:{font:{size:14,color:"#aaa"},text:"years"},type:"linear",tickformat:"d",separatethousands:!1,fixedrange:!1,showgrid:n.XAxis,linewidth:1,linecolor:"#ddd",showline:!0,range:[O,w+S(45)]},margin:{l:10,r:20,t:100,b:50},images:k,shapes:x};return Object(c.useEffect)((function(){return function(){return window.Plotly.purge(t.current.el)}}),[]),l.a.createElement("div",{className:"dataportal__plot"},l.a.createElement(L,{ref:t,onHover:s,onUnhover:u,onAfterPlot:function(){h&&h(t)},config:{responsive:!0,displaylogo:!1,displayModeBar:!1},layout:C,images:k,data:g,style:{width:"100%"}}))})),F=(a(490),a(130)),P=A()(window.Plotly);function H(e){var t=e.color,a=e.lineStyle,n=e.symbol,r=n?"markers":"line",o={margin:{l:0,r:0,b:0,t:0},width:"markers"===r?20:30,height:20,xaxis:{showgrid:!1,zeroline:!1,fixedrange:!0},yaxis:{showgrid:!1,zeroline:!1,fixedrange:!0,autorange:"reversed"},showlegend:!1,hovermode:"closest",plot_bgcolor:"#f4f6f6"},i=["markers"===r?M(n,t):z(a,t)];return l.a.createElement(P,{config:{displaylogo:!1,displayModeBar:!1},layout:o,data:i})}function M(e,t){return{mode:"markers",x:[0],y:[0],marker:{symbol:[e],color:t,size:14},text:[],hoverinfo:"text"}}function z(e,t){return{type:"lines",mode:"lines",x:[0,1,2,3,4,5],y:[0,0,0,0,0,0],line:{dash:e,color:t,width:3},text:[],hoverinfo:"text"}}var q=function(e){var t=e.labelParts,a=e.icon,n=e.lineStyle,r=e.onClick,o=e.color,i=e.mode,s=e.hovered,c=e.clickable,u=e.plotlyShape,d="indicators"===i?l.a.createElement(l.a.Fragment,null,l.a.createElement("b",null,t.indicator),l.a.createElement("i",null,"(",t.scenario,")")):l.a.createElement(l.a.Fragment,null,l.a.createElement("b",null,t.country),l.a.createElement("i",null,"(",t.scenario,")")),p={};s&&(p={backgroundColor:o,color:Object(F.a)(o)});var h=u&&u.marker&&u.marker.symbol;return l.a.createElement("button",{onMouseEnter:function(){},className:s?"hovered":"nope",style:p},l.a.createElement("div",{className:"dataportal_legend__image_wrapper"},l.a.createElement(U,{src:a,"data-alt":Object.values(t).join(" "),width:"auto",height:28}),h&&l.a.createElement(H,{symbol:h,color:o}),l.a.createElement(H,{color:o,lineStyle:n})),d,c&&l.a.createElement("span",{onClick:r},"\xd7"))};function U(e){var t=Object(c.useState)(!0),a=Object(s.a)(t,2),n=a[0],r=a[1];return n?l.a.createElement(l.a.Fragment,null,l.a.createElement("img",Object.assign({onError:function(){r(!1)}},e))):[]}var J=function(e){var t=e.graphData,a=e.onLegendClick,n=e.filterValues,r=e.mode,o=e.hoverItem,i=e.clickable,s=void 0===i||i;return l.a.createElement("div",{className:"dataportal_legend"},l.a.createElement("ul",null,t.map((function(e,t){return l.a.createElement("li",{key:t},l.a.createElement(q,Object.assign({clickable:s},e.label,{plotlyShape:e.plotlyShape,mode:r,onClick:function(t){return s&&a(t,e.groupData,n)},hovered:e.groupName===o})))}))))},V=a(166),B=a(222),R=function(e){return e=Object(B.a)(e),Object.entries(e).reduce((function(e,t){var a=Object(s.a)(t,2),o=a[0],i=a[1];return Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},o,i.sort()))}),{})},G=(a(491),["filterValues","mode","onFilterChange","footnotes","isEmbed"]),W=function(e,t){var a=t.country,n=t.indicator,r=(t.scenario,t.sector,[]);switch(e){case"indicators":a.length&&r.push(a[0].label);break;case"countries":n.length&&r.push(n[0].label)}return r.join(", ")},Y={XAxis:!0,YAxis:!0,legend:!0,images:!0};function Z(e){var t=e.filterValues,a=e.mode,u=e.onFilterChange,p=e.footnotes,f=e.isEmbed,y=void 0!==f&&f,w=Object(i.a)(e,G),j=function(){var e=Object(c.useRef)(),t=Object(c.useState)(!1),a=Object(s.a)(t,2),n=a[0],r=a[1];return Object(c.useEffect)((function(){n&&e&&e.current&&(window.Plotly.downloadImage(e.current.el,{format:"png",width:1600,height:700,filename:"graph-as-image"}),r(!1))}),[n,e.current&&e.current.el]),[e,n,r]}(),_=Object(s.a)(j,3),S=_[0],N=_[1],A=_[2],L=function(e,t){var a=Object(c.useRef)(),n=Object(c.useState)(e),r=Object(s.a)(n,2),o=r[0],i=r[1],l=Object(c.useState)(t),u=Object(s.a)(l,2),d=u[0],p=u[1];return Object(c.useEffect)((function(){if(a.current){var e=a.current.el.offsetHeight,t=a.current.el.offsetWidth;p(e),i(t)}}),[a]),[a,o,d]}(1100,450),D=Object(s.a)(L,3),T=D[0],F=D[1],P=D[2],H=Object(c.useState)({}),M=Object(s.a)(H,2),z=M[0],q=M[1],U=function(e,t,a){try{return W(t,Object(V.a)(e,a))}catch(n){}}(t,a,w.options),B=Object(b.a)(t),Z=Object(c.useMemo)((function(){return Object(b.c)(z,{mode:a,indicators:w.options.indicator,sectors:w.sectors,scenarios:w.scenarios,options:w.options})}),[z,a]),X=Object(c.useMemo)((function(){var e;return(e=[]).concat.apply(e,Object(o.a)(Object.values(z).map((function(e){return e.map((function(e){return h()(e,["sector","indicator","country","scenario","year","value","unit"])}))}))))}),[z,a]),K=Object.keys(z).map((function(e){return JSON.parse(e)})),Q=Object(c.useState)(),$=Object(s.a)(Q,2),ee=$[0],te=$[1],ae=localStorage.getItem("graphOptions"),ne=Object(c.useReducer)((function(e,t){var a=Object(r.a)(Object(r.a)({},e),t);return localStorage.setItem("graphOptions",JSON.stringify(a)),a}),ae?JSON.parse(ae):Y),re=Object(s.a)(ne,2),oe=re[0],ie=re[1],se=function(e,t){var a=Object(c.useState)([]),n=Object(s.a)(a,2),r=n[0],o=n[1],i=Object(c.useState)(!1),l=Object(s.a)(i,2),u=l[0],d=l[1];function p(){return(p=Object(E.a)(O.a.mark((function a(){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(Object(b.a)(e).length>3)){a.next=15;break}return d(!0),a.prev=2,a.next=5,k.query(e);case 5:n=a.sent,r=n.results,t(r),d(!1),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(2),a.t0.validationErrors&&(o(a.t0.validationErrors),d(!1)),console.error(a.t0);case 15:case"end":return a.stop()}}),a,null,[[2,11]])})))).apply(this,arguments)}return[function(){return p.apply(this,arguments)},u,r]}(t,(function(e){q(x(Object(b.b)(e,B),a))})),ce=Object(s.a)(se,3),le=ce[0],ue=ce[1],de=ce[2];w.onErrors(de),Object(c.useEffect)((function(){le()}),[JSON.stringify(t),a]);var pe=function(e){ie(Object(n.a)({},e.target.name,e.target.checked)),q(Object(r.a)({},z))};return l.a.createElement("div",null,!y&&l.a.createElement("div",{className:"dataportal__buttons"},(X.length>0||w.publicDataDownload)&&l.a.createElement(v.a,{label:"Data download",className:"btn btn-primary btn--icon-right btn--icon-download btn--icon--is-size-large"},l.a.createElement(l.a.Fragment,null,X.length>0&&l.a.createElement("a",{download:!0,target:"_blank",className:"dropdown-item",href:"#",onClick:function(e){e.preventDefault(),A(!0)}},"Graph (PNG)"),w.publicDataDownload&&l.a.createElement("a",{className:"dropdown-item",download:!0,href:w.publicDataDownload},"All data and sources (XLSX)"),X.length>0&&l.a.createElement(m.CSVLink,{filename:"".concat(U," data.csv"),className:"dropdown-item",data:X,target:"_blank"},"Current data (CSV)"))),l.a.createElement(v.a,{label:"Graph Toggler",className:"btn btn-primary btn--icon-right btn--icon-settings btn--icon--is-size-large"},l.a.createElement(l.a.Fragment,null,l.a.createElement(C,{name:"XAxis",label:"X Gridlines",checked:oe.XAxis,onChange:pe}),l.a.createElement(C,{name:"YAxis",label:"Y Gridlines",checked:oe.YAxis,onChange:pe}),l.a.createElement(C,{name:"legend",label:"Legend",checked:oe.legend,onChange:pe}),l.a.createElement(C,{name:"images",label:"Show icons",checked:oe.images,onChange:pe})))),ue&&B.length>3&&l.a.createElement("div",{className:"dataportal__pick_message"},l.a.createElement(g.a,{type:"Bars",color:"#E0E5E5",height:"100",width:"100"})),!ue&&B.length>3&&K.length&&l.a.createElement(l.a.Fragment,null,N&&l.a.createElement(I,{ref:S,key:"second",mode:a,title:!y&&U,graphData:Z,graphOptions:oe,plotHeight:P,plotWidth:F,displayConfig:{image:{sizex:15,sizey:15},logo:{sizex:.075,sizey:.075,x:1,y:1}}}),l.a.createElement(I,{ref:T,key:"first",mode:a,title:!y&&U,graphData:Z,graphOptions:oe,onItemHover:function(e){te(e.points[0].data.customdata.dataGroupKey)},onItemUnhover:function(e){te("")},plotHeight:P,plotWidth:F}),l.a.createElement("p",{className:"dataportal__last_updated_date"},"data last updated: ",w.dataLastUpdatedDate),oe.legend&&l.a.createElement(J,{hoverItem:ee,onLegendClick:function(e,t,a){e.preventDefault();var n=Object(r.a)({},z);delete n[JSON.stringify(t)];var o=Object.keys(n).reduce((function(e,t){var a=JSON.parse(t),n=a.sector,r=a.indicator,o=a.country,i=a.scenario;return e.sector||(e.sector=[]),e.indicator||(e.indicator=[]),e.country||(e.country=[]),e.scenario||(e.scenario=[]),e.sector.includes(n)||e.sector.push(n),e.indicator.includes(r)||e.indicator.push(r),e.country.includes(o)||e.country.push(o),e.scenario.includes(i)||e.scenario.push(i),e}),{});d()(R(a),R(o))?q(n):u(o)},onLabelHover:function(e){},filterValues:t,graphData:Z,mode:a,clickable:!y}),p&&l.a.createElement("div",{className:"dataportal__footnotes",dangerouslySetInnerHTML:{__html:p}})),!ue&&B.length>3&&!Z.length&&l.a.createElement("div",{className:"dataportal__pick_message"},l.a.createElement("p",null,"No data was found for the selected combination of filters. Please make a different selection.")),!ue&&w.missingFiltersMessage&&B.length<=3&&l.a.createElement("div",{className:"dataportal__pick_message"},l.a.createElement("p",{dangerouslySetInnerHTML:{__html:w.missingFiltersMessage}})))}},232:function(e,t,a){e.exports=a(493)},451:function(e,t,a){},452:function(e,t,a){},464:function(e,t,a){},465:function(e,t,a){},490:function(e,t,a){},491:function(e,t,a){},492:function(e,t,a){},493:function(e,t,a){"use strict";a.r(t);a(233);var n=a(0),r=a.n(n),o=a(36),i=a.n(o),s=a(78),c=a(165),l=a.n(c),u=a(7),d=a(8),p=a(23),h=a(24),m=a(231),f=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"parent",get:function(){return this.getAttribute("parent")?this.closest(this.getAttribute("parent")):void 0}},{key:"attributeChangedCallback",value:function(e,t,a){if(a){var n=this.parent;this.getBoundingClientRect().right>window.innerWidth?(this.classList.add("flyout__menu--left"),n&&n.classList.add("flyout--left")):(this.classList.remove("flyout__menu--left"),n&&n.classList.remove("flyout--left"))}}}],[{key:"observedAttributes",get:function(){return["aria-hidden","parent"]}}]),a}(Object(m.a)(HTMLElement));customElements.define("flyout-menu",f);var g=a(21),v=a(2),b=a(6),y=function(e,t){Array.from(document.querySelectorAll(e)).forEach((function(e){var a=O(e);i.a.render(r.a.createElement(t,a),e)}))};function O(e){return Object.entries(e.dataset).filter((function(e){var t=Object(b.a)(e,2),a=t[0];t[1];return j(a)})).reduce(E,{})}var E=function(e,t){var a=Object(b.a)(t,2),n=a[0],r=a[1];return Object(v.a)(Object(v.a)({},e),{},Object(g.a)({},_(S(k(n))),x(n,r)))},w=function(e){return e.endsWith("Json")},j=function(e){return e.startsWith("props")},_=function(e){return e.slice(0,1).toLowerCase()+e.slice(1)},S=function(e){return e.substring(5)},k=function(e){return w(e)?e.slice(0,-4):e},x=function(e,t){return w(e)?JSON.parse(t):t},C=function(){function e(t){var a=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(u.a)(this,e),this.onNextClick=function(){a.cancelCycle(),a.toggleSlide(a.activeSlideIndex+1)},this.onPrevClick=function(){a.cancelCycle(),a.toggleSlide(a.activeSlideIndex-1)},this.cancelCycle=function(){a.cycle&&clearInterval(a.cycle)},this.toggleSlide=function(e){var t=a.validateIndex(e),n=function(e,a){e.classList.remove("active"),t===a&&e.classList.add("active")};a.slides.forEach(n),a.slideDots.forEach(n),a.activeSlideIndex=t};var r={slideSelector:".slide",navDotSelector:".slide__dot",nextArrowSelector:".slide__arrow-right",prevArrowSelector:".slide__arrow-left",autoCycleEvery:0},o=Object(v.a)(Object(v.a)({},r),n);this.el=t,this.cycle=null,this.slides=t.querySelectorAll(o.slideSelector),this.slideDots=t.querySelectorAll(o.navDotSelector),this.nextArrow=t.querySelector(o.nextArrowSelector),this.prevArrow=t.querySelector(o.prevArrowSelector),this.activeSlideIndex=0,this.nextArrow.addEventListener("click",this.onNextClick),this.prevArrow.addEventListener("click",this.onPrevClick),this.slideDots.forEach((function(e,t){e.addEventListener("click",(function(){a.cancelCycle(),a.toggleSlide(t)}))})),o.autoCycleEvery>0&&(this.cycle=setInterval((function(){a.toggleSlide(a.activeSlideIndex+1)}),o.autoCycleEvery))}return Object(d.a)(e,[{key:"validateIndex",value:function(e){return e<0?this.slides.length-1:e>=this.slides.length?0:e}}]),e}(),N=Object(d.a)((function e(t){var a=this;Object(u.a)(this,e),this.handleChange=function(e){e.preventDefault();var t=a.selector.value;t.endsWith(".pdf")?a.openUrlInTab(t):window.location.href=t},this.openUrlInTab=function(e){window.open(e,"_blank").focus()},this.el=t,this.selector=t.querySelector("select[name=url_selector]"),this.selector&&(this.selector.addEventListener("input",this.handleChange),this.selector.addEventListener("click",(function(e){e.stopPropagation()})))})),A=function(){function e(t){var a=this;if(Object(u.a)(this,e),this.toggleSectionVisibility=function(){a.sectionHeader.classList.contains("collapsed")?a.setExpanded():a.setCollapsed()},this.setCollapsed=function(){a.sectionHeader.classList.add("collapsed"),a.sectionHeader.classList.remove("expanded"),a.sectionContent.classList.add("content-section__content--collapsed"),a.sectionContent.setAttribute("aria-hidden","true")},this.setExpanded=function(){a.sectionHeader.classList.remove("collapsed"),a.sectionHeader.classList.add("expanded"),a.sectionContent.classList.remove("content-section__content--collapsed"),a.sectionContent.setAttribute("aria-hidden","false")},this.buildSectionHeader=function(){a.sectionHeader.classList.add("with-icon");var e=document.createElement("button"),t=document.createElement("span");t.classList.add("icon"),e.appendChild(t),a.sectionHeaderToggle=e,a.sectionHeader.insertBefore(e,a.sectionHeader.firstChild)},!t._collapsibleSection){if(!t.dataset.sectionTarget)throw new Error("Element should have data-section-target defined");if(!t.dataset.contentTarget)throw new Error("Element should have data-content-target defined");t._collapsibleSection=this,this.section=t.closest(t.dataset.sectionTarget),this.sectionHeader=t,this.sectionContent=this.section.querySelector(t.dataset.contentTarget),this.buildSectionHeader(this.sectionHeader),this.sectionHeader.addEventListener("click",(function(e){e.preventDefault(),a.toggleSectionVisibility()})),this.sectionContent.addEventListener("click",(function(){!a.isExpanded&&a.toggleSectionVisibility()})),this.isExpanded?this.setExpanded():this.setCollapsed(),this.handleTargetsHash(t)}}return Object(d.a)(e,[{key:"isCollapsed",get:function(){return this.sectionHeader.classList.contains("collapsed")}},{key:"isExpanded",get:function(){return this.sectionHeader.classList.contains("expanded")}},{key:"handleTargetsHash",value:function(e){var t=window.location.hash;if(t.startsWith("#expand_")){var a=t.replace("#expand_",""),n=t.replace("#","");a===e.id||n===e.id?this.setExpanded():this.setCollapsed()}}}]),e}(),L=Object(d.a)((function e(t){Object(u.a)(this,e);var a=t.querySelectorAll(".country-types__item");a.forEach((function(e){e.addEventListener("mouseenter",(function(){this.classList.contains("active")||(this.classList.add("hover"),this.parentNode.classList.add("hovered"))})),e.addEventListener("mouseleave",(function(){this.classList.remove("hover"),this.parentNode.classList.remove("hovered")})),e.addEventListener("click",(function(){window.innerWidth>991||(a.forEach((function(e){e.classList.remove("active")})),this.classList.add("active"),this.classList.remove("hover"),this.parentNode.classList.remove("hovered"))}))}))})),D={activeClassName:"active",closeSelector:".popup__close",showEveryDays:7},T=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(u.a)(this,e),this.el=t,this.backdrop=this.el.querySelector(".popup"),this.config=Object(v.a)(Object(v.a)({},D),a),this.cutoffTime=864e5*this.config.showEveryDays,this.conditionallyShopPopup()}return Object(d.a)(e,[{key:"conditionallyShopPopup",value:function(){!localStorage.getItem("submittedNewsletter")&&!this.seenPopupWithinTimeInterval()&&this.showPopup(),this.listenToClose(),this.listenToBackdropClick(),this.listenToFormSubmit()}},{key:"seenPopupWithinTimeInterval",value:function(){var e=localStorage.getItem("seenNewsletterPopupAt");return!!e&&parseInt(e)+this.cutoffTime>+new Date}},{key:"showPopup",value:function(){this.el.classList.add(this.config.activeClassName),localStorage.setItem("seenNewsletterPopupAt",(+new Date).toString())}},{key:"listenToClose",value:function(){this.el.querySelector(this.config.closeSelector).addEventListener("click",this.handleClose.bind(this))}},{key:"listenToBackdropClick",value:function(){var e=this;document.addEventListener("click",(function(t){t.target.matches(".popup.active")&&e.handleClose()}))}},{key:"handleClose",value:function(){this.el.classList.remove(this.config.activeClassName)}},{key:"listenToFormSubmit",value:function(){this.el.querySelector("form").addEventListener("submit",this.handleSubmit.bind(this))}},{key:"handleSubmit",value:function(){this.handleClose(),localStorage.setItem("submittedNewsletter","1")}}]),e}();var I=function(){function e(){var t=this;Object(u.a)(this,e),window.scroll&&(this.init(),window.location.hash&&setTimeout((function(){return t.scrollTo(window.location.hash)}),300))}return Object(d.a)(e,[{key:"init",value:function(){document.addEventListener("click",this.handleClick.bind(this))}},{key:"handleClick",value:function(e){e.target.hash&&e.target.host===window.location.host&&e.target.pathname===window.location.pathname&&(e.preventDefault(),window.history.pushState(null,null,e.target.hash),this.scrollTo(e.target.hash))}},{key:"scrollTo",value:function(e){var t=document.querySelector(e);t&&window.scroll({top:t.offsetTop-this.getNavbarHeight()-15,behavior:"smooth"})}},{key:"getNavbarHeight",value:function(){return document.querySelector("nav.navbar").offsetHeight}}]),e}(),F=(a(451),[]);var P=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"loadTweetForProps",value:function(e){var t=this,a=function(){window.twttr.ready().then((function(a){var n=a.widgets;t._div&&(t._div.innerHTML="");var r=e.options,o=e.onTweetLoadSuccess,i=e.onTweetLoadError;n.createTweetEmbed(t.props.id,t._div,r).then((function(){o.apply(void 0,arguments),t.props.onTweetLoadSuccess()})).catch(i)}))};if(window.twttr&&window.twttr.ready)a();else{var n=window.location.protocol.indexOf("file")>=0?this.props.protocol:"";!function(e,t){if(0===F.length){F.push(t);var a=document.createElement("script");a.setAttribute("src",e),a.onload=function(){return F.forEach((function(e){return e()}))},document.body.appendChild(a)}else F.push(t)}("".concat(n,"//platform.twitter.com/widgets.js"),a)}}},{key:"componentDidMount",value:function(){this.loadTweetForProps(this.props)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.id!==e.id}},{key:"componentWillUpdate",value:function(e,t){this.loadTweetForProps(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.className,ref:function(t){e._div=t}})}}]),a}(r.a.Component);P.defaultProps={protocol:"https:",options:{},className:null};var H=P;var M=function(e){var t=e.ids,a=e.heading,o=Object(n.useState)(!1),i=Object(b.a)(o,2),s=i[0],c=i[1];return r.a.createElement("section",{className:"twitter-feed b-padding--3"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"wrapper border-top t-padding--3"},r.a.createElement("h3",{className:"bottom-line bottom-line--primary bottom-line--130"},a),!s&&r.a.createElement("p",{className:"text-center"},"If the twitter feed does not show click ",r.a.createElement("a",{rel:"nofollow noreferrer",target:"_blank",href:"https://twitter.com/climateactiontr"},"here"),"."),r.a.createElement("div",{className:"row"},t.map((function(e){return r.a.createElement("div",{key:e,className:"col-md-4 b-padding--3"},r.a.createElement(H,{onTweetLoadSuccess:function(){return c(!0)},id:e,options:{cards:"hidden",conversation:"none",dnt:!0}}))}))))),r.a.createElement("div",{className:"container text-center"},r.a.createElement("a",{href:"https://twitter.com/intent/follow?screen_name=climateactiontr",className:"btn btn-primary btn--icon-right btn--icon-arrow-right"},"Follow")))},z=a(126),q=a(99);function U(e){var t=e.href,a=e.children,n=e.download,o=e.onClick;return r.a.createElement("a",{download:n,target:"_blank",className:"dropdown-item",href:t,onClick:o},a)}var J=function(e){var t=e.graphData,a=e.layoutData,o=e.footnotes,i=e.scenarioDataUrl,s=e.fairShareDataUrl,c=e.howToUrl,l=e.graphImageUrl,u=e.graphHiresImageUrl,d=Object(n.useState)(),p=Object(b.a)(d,2),h=p[0],m=p[1];return r.a.createElement("div",{className:"graph-component-wrapper text-center",style:{width:"100%"}},t&&r.a.createElement(z.b,{graph_data:t,layout_data:a,complete:!0,responsive:!0,onAfterPlot:m}),!t&&l&&r.a.createElement("img",{className:"graph-component__image",src:l,alt:""}),o&&r.a.createElement("div",{className:"graph_footnotes"},r.a.createElement("div",{className:"graph_footnotes__left_side"},r.a.createElement("h3",null,"Graph Footnotes")),r.a.createElement("div",{className:"graph_footnotes__content",dangerouslySetInnerHTML:{__html:o}})),r.a.createElement("div",{className:"v-padding--2 button-bar text-center text-lg-left hidden-sm hidden-xs"},r.a.createElement(q.a,{label:"Data download",className:"btn btn-primary btn--icon-right btn--icon-download btn--icon--is-size-large"},r.a.createElement(U,{download:!0,href:u||"#",onClick:u?void 0:function(e){e.preventDefault(),window.Plotly.downloadImage(h.current.el,{format:"png",width:1600,height:700,filename:"graph-as-image"})}},"Graph (PNG)"),i&&r.a.createElement(U,{download:!0,href:i},"Scenario data"),s&&r.a.createElement(U,{download:!0,href:s},"Fair share data")),c&&r.a.createElement("a",{style:{marginLeft:"1.5rem"},className:"btn btn-primary btn--icon-right btn--icon-arrow-right",href:c},"How to read graph")))},V=a(20),B=a(47),R=a.n(B),G=a(225),W=a.n(G),Y=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={value:"",suggestions:[]},e.getSuggestions=function(t){var a=t.trim().toLowerCase(),n=a.length;return 0===n?[]:e.props.options.filter((function(e){return e&&e.toLowerCase().slice(0,n)===a}))},e.getSuggestionValue=function(e){return e},e.onSuggestionsFetchRequested=function(t){var a=t.value;e.setState({suggestions:e.getSuggestions(a)})},e.onSuggestionsClearRequested=function(){e.setState({suggestions:[]})},e.renderSuggestion=function(e){return r.a.createElement("div",null,e)},e}return Object(d.a)(a,[{key:"render",value:function(){var e={placeholder:this.props.placeholder?this.props.placeholder:"Type text...",value:this.props.value,onChange:this.props.onChange,className:"form-control",id:"country-map__search"};return r.a.createElement(W.a,{suggestions:this.state.suggestions,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionSelected:this.props.onSuggestionSelected,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,inputProps:e})}}]),a}(n.Component);Y.defaultProps={wrapperClassName:"autosuggest-wrapper"};var Z=Y,X=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"popup active"},r.a.createElement("div",{className:"popup__inner"},r.a.createElement("div",{className:"popup__header"},r.a.createElement("a",{href:"#",className:"popup__close",onClick:this.props.onClose},r.a.createElement("span",{className:"icon icon-icons_24"}))),r.a.createElement("div",{className:"popup__content country-preview"},r.a.createElement("img",{width:"119px",alt:this.props.data.name,className:"country-preview__flag",src:this.props.data.flag_url}),r.a.createElement("h3",{className:"country-preview__name"},this.props.data.name),r.a.createElement("span",{className:"tape--".concat(this.props.data.rating_meta.color)},this.props.data.rating_meta.name),r.a.createElement("p",{className:"country-preview__description"},this.props.data.description),r.a.createElement("a",{href:this.props.data.url,className:"btn btn-primary btn--icon-right btn--icon-arrow-right"},"View full country profile"))))}}]),a}(n.Component),K=(a(464),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getClassName=function(){var t="custom-dropdown__item--".concat(e.props.data.color);return e.props.isActive?t+=" active":t+=" disabled",t},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.getClassName()},r.a.createElement("a",{href:"#",className:"custom-dropdown__link",onClick:function(t){return e.props.onClick(t,e.props.data.weight)}},this.props.children),this.props.countries&&r.a.createElement("div",{className:"custom-dropdown__content"},this.props.countries.map((function(e){return r.a.createElement("a",{key:e.name,href:e.url,className:"custom-dropdown__content-link"},e.name)}))))}}]),a}(n.Component)),Q=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={filters:[]},e.filterCountryByRating=function(e,t){return e.rating===t},e.hydrateCountriesIntoFilter=function(t,a){var n=a.filter((function(a){return e.filterCountryByRating(a,t.weight)})).reduce((function(e,t){return e.keys.includes(t.name)||e.countries.push(t),e.keys.push(t.name),e}),{countries:[],keys:[]}).countries;return t.countries=n.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),t},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.ratings;this.props.data&&(t=this.props.ratings.map((function(t){return e.hydrateCountriesIntoFilter(t,e.props.data)}))),this.setState({filters:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"country-map__bottom-filter text-center custom-dropdown"},this.state.filters.filter((function(e){return e.weight>0})).sort((function(e,t){return e.weight-t.weight})).map((function(t){return r.a.createElement(K,{key:t.weight,onClick:e.props.onClick,isActive:e.props.activeFilters.includes(t.weight),data:t,countries:t.countries},t.name)})))}}]),a}(n.Component),$=(a(465),function(e){var t=e.message,a=e.messagePrefix,o=e.position,i=void 0===o?"top":o,s=e.className,c=void 0===s?"":s,l=e.children,u=Object(n.useState)(!1),d=Object(b.a)(u,2),p=d[0],h=d[1];return r.a.createElement("span",{className:"cat-tooltip ".concat(c),onMouseLeave:function(){return h(!1)}},p&&r.a.createElement("div",{className:"cat-tooltip-bubble cat-tooltip-".concat(i)},r.a.createElement("div",{className:"cat-tooltip-message"},a&&r.a.createElement("b",null,"".concat(a," ")),t)),r.a.createElement("span",{className:"cat-tooltip-trigger",onMouseOver:function(){return h(!0)}},l))});function ee(e){var t=e.assessments,a=void 0===t?[]:t;return r.a.createElement("div",{className:"country-map__extended-information"},r.a.createElement("h4",null,"Assessments of:"),r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",{key:e.url},r.a.createElement("a",{href:e.url,className:"country-map__assessment"},r.a.createElement("div",{className:"country-map__sector-icon btn-".concat(e.color)},r.a.createElement("img",{width:40,height:40,src:e.icon,alt:e.label})),r.a.createElement("div",null,r.a.createElement("h5",null,e.label),"Find out more")))}))))}var te=R()(window.Plotly),ae=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleZoom=function(e,t){e.preventDefault();var a=n.state.layout_data;a.geo.projection.scale+=t,n.setState({layout_data:a})},n.handleSearchInputChange=function(e,t){var a=t.newValue;if(a&&a.length>0)n.setState({searchInputValue:a});else{var r=n.prepareData(n.props.data,n.state.activeFilters);n.setState({searchInputValue:"",mapData:[Object(v.a)(Object(v.a)({},n.state.mapData[0]),r)]})}},n.handleSuggestionSelection=function(e,t){var a=t.suggestionValue,r=n.filterDataByCountryName(Object(V.a)(n.props.data),a);n.setState({searchInputValue:a,mapData:[Object(v.a)(Object(v.a)({},n.state.mapData[0]),r)]})},n.handleCountryClick=function(e){var t=e.points,a=n.props.data.find((function(e){return e.country_code===t[0].location}));a.rating_meta=n.props.ratings.find((function(e){return e.weight===a.rating})),n.setState({popupOpen:!0,currentCountryData:a})},n.handlePopupClose=function(e){e.preventDefault(),n.setState({popupOpen:!1})},n.toggleActive=function(e,t){e.preventDefault();var a=n.state.activeFilters,r=a.indexOf(t);r>-1?a.splice(r,1):a.push(t);var o=n.prepareData(n.props.data,a);n.setState({activeFilters:a,mapData:[Object(v.a)(Object(v.a)({},n.state.mapData[0]),o)]})},n.disableZoomScroll=function(e,t){var a=window.Plotly.d3;a.select(t.querySelector(".main-svg .geo .layer rect")).on("wheel.zoom",(function(){a.event.preventDefault()}))},n.ref=r.a.createRef(),n.state={defaultFilters:[],popupOpen:!1,countryOptions:[],currentCountryData:null,activeFilters:[],searchInputValue:"",mapData:[{type:"choropleth",geojson:"/static/dataset/cat.json",featureidkey:"properties.ADM0_A3",showlegend:!1,hoverinfo:"none",z:[],text:[],zmin:0,zmax:10,colorscale:[[0,"#B1B6B9"],[.1,"rgb(104, 100, 100)"],[.2,"rgb(239, 105, 72)"],[.3,"rgb(242, 173, 72)"],[.4,"rgb(245, 227, 99)"],[.5,"rgb(176, 203, 104)"],[.6,"rgb(102, 166, 82)"],[1,"rgb(102, 166, 82)"]],showscale:!1,marker:{line:{color:"#efefef",width:.25}}}],layout_data:{title:"World",showlegend:!1,autosize:!0,margin:{l:0,r:0,t:0,b:0},dragmode:!1,xaxis:{fixedrange:!0},yaxis:{fixedrange:!0},scene:{dragmode:!1},geo:{dragmode:!1,countrycolor:"#fff",countrywidth:1,landcolor:"#EFEFEF",showland:!0,resolution:70,showframe:!1,showcoastlines:!1,showcountries:!0,xaxis:{fixedrange:!0},yaxis:{fixedrange:!0},lataxis:{range:[-60,90]},projection:{type:"robinson",scale:1}}}},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.ratings.map((function(e){return e.weight})),t=this.prepareData(this.props.data,e),a=t.z,n=t.locations,r=t.text;this.setState((function(t){var o=t.mapData;return o[0].z=a,o[0].text=r,o[0].locations=n,{mapData:o,countryOptions:Array.from(new Set(r)),activeFilters:e,defaultFilters:e}}))}},{key:"filterDataByCountryName",value:function(e,t){return e.reduce((function(e,a,n){return t===a.name&&(e.locations.push(a.country_code),e.z.push(a.rating),e.text.push(a.name)),e}),{z:[],locations:[],text:[]})}},{key:"prepareData",value:function(e,t){return e=e.reduce((function(e,a,n){return(t.indexOf(a.rating)>-1||0===a.rating)&&(e.locations.push(a.country_code),e.z.push(a.rating),e.text.push(a.name)),e}),{z:[],locations:[],text:[]})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"map_container"},r.a.createElement("h3",{className:"bottom-line bottom-line--primary"},this.props.heading),r.a.createElement("div",{className:"country-map__top-filter"},r.a.createElement("div",{className:"country-map__top-filter-form"},r.a.createElement("div",{className:"form-group"},r.a.createElement(Z,{wrapperClassName:"form-group",value:this.state.searchInputValue,onChange:this.handleSearchInputChange,onSuggestionSelected:this.handleSuggestionSelection,placeholder:"Search countries",options:this.state.countryOptions,cssClass:"form-control"}),r.a.createElement("button",{type:"submit",className:"btn"},r.a.createElement("span",{className:"icon icon-icons_4"})))),r.a.createElement("div",{className:"country-map__top-filter-nav"},r.a.createElement("a",{href:"#",title:"Zoom In Map",className:"btn btn-primary",onClick:function(t){return e.handleZoom(t,.1)},style:{marginRight:"3px"}},r.a.createElement("span",{className:"icon icon-icons_105"})),r.a.createElement("a",{href:"#",title:"Zoom Out Map",className:"btn btn-primary",onClick:function(t){return e.handleZoom(t,-.1)}},r.a.createElement("span",{className:"icon icon-icons_106"})))),r.a.createElement("div",{className:"country-map__columns"},r.a.createElement("div",{className:"map_plot_container country-map__map"},r.a.createElement(te,{className:"map_plot",useResizeHandler:!0,ref:this.ref,onClick:this.handleCountryClick,onScroll:this.handleCountryClick,data:this.state.mapData,layout:this.state.layout_data,config:{scrollZoom:!1},style:{height:"100%",width:"100%"},onInitialized:this.disableZoomScroll,onUpdate:this.disableZoomScroll})),this.props.assessments&&this.props.assessments.length?r.a.createElement("aside",{className:"country-map__aside"},r.a.createElement(ee,{assessments:this.props.assessments})):""),r.a.createElement("div",{className:"country-map__footer"},r.a.createElement($,{className:"country-map__tooltip",message:"The boundaries on these maps do not imply, on the part of the authors, any judgment on the legal status of any territory, or any endorsement or acceptance of such boundaries",position:"top"},"The maps displayed are for reference only."),this.props.lastUpdateDate&&r.a.createElement("div",{className:"country-map__meta"},r.a.createElement("label",null,"Last update:"),this.props.lastUpdateDate)),r.a.createElement(Q,{activeFilters:this.state.activeFilters,onClick:this.toggleActive,data:this.props.extendedFilters&&this.props.data,ratings:this.props.ratings}),this.state.popupOpen&&r.a.createElement(X,{data:this.state.currentCountryData,onClose:this.handlePopupClose}))}}]),a}(n.Component);ae.defaultTypes={extendedFilters:!1};var ne=ae,re=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleSearchInput=function(e){fetch("/search/autocomplete/?query="+e.target.value,{credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){n.setState({results:e})})).catch((function(e){console.log(e)}))},n.state={results:[]},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"dropdown-menu nav-search__form ".concat(this.props.open?" show":"")},r.a.createElement("form",{lpformnum:"1",action:"/search/"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{onChange:this.handleSearchInput,type:"text",name:"query",className:"form-control",placeholder:"What are you looking for?"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn",type:"submit"},r.a.createElement("span",{className:"icon icon-icons_4"}))),r.a.createElement("a",{onClick:this.props.onClose,className:"nav-search__close",href:"#"},r.a.createElement("span",{className:"icon icon-icons_24"})))),this.state.results.length>0&&r.a.createElement("div",{className:"nav-search__bottom"},r.a.createElement("div",{className:"nav-search__suggestions"},r.a.createElement("h3",{className:"bottom-line bottom-line--primary bottom-line--70"},"Suggestions"),r.a.createElement("ul",{className:"suggestions"},this.state.results.map((function(e,t){return r.a.createElement("li",{className:"suggestions__suggestion",key:t},r.a.createElement("label",null,e.content_type.toUpperCase(),":"),r.a.createElement("a",{href:e.url},e.title))}))))))}}]),a}(n.Component),oe=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).toggleSearch=function(e){e.preventDefault(),n.setState((function(e){return{searchOpen:!e.searchOpen}}))},n.state={searchOpen:!1},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("li",{className:"nav-item nav-search ".concat(this.state.searchOpen?"show":"")},r.a.createElement("a",{href:"#",className:"nav-link d-block nav-search__link",onClick:this.toggleSearch},r.a.createElement("span",{className:"icon icon-icons_4"}),r.a.createElement("span",{className:"nav-search__link-text"},"Search")),r.a.createElement(re,{open:this.state.searchOpen,onClose:this.toggleSearch}))}}]),a}(n.Component),ie=a(132),se=R()(window.Plotly);function ce(e){var t=e.mapdata,a=e.colorscale,n=e.lastUpdated,o=e.tooltipMessage,i=[Object(v.a)({type:"choropleth",geojson:"/static/dataset/cat.json",featureidkey:"properties.ADM0_A3",showlegend:!1,hoverinfo:"text",z:[],text:[],zmin:0,zmax:10,colorscale:a,showscale:!1,marker:{line:{color:"#efefef",width:.25}}},le(t))];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(se,{className:"map_plot",useResizeHandler:!0,onClick:function(e){var a=e.points,n=t.find((function(e){return e.country_code===a[0].location})).url;window.location=n},onHover:function(e){console.log("hover",e)},data:i,layout:{title:"World",showlegend:!1,autosize:!0,margin:{l:0,r:0,t:0,b:0},dragmode:!1,xaxis:{fixedrange:!0},yaxis:{fixedrange:!0},scene:{dragmode:!1},geo:{dragmode:!1,countrycolor:"#fff",countrywidth:1,landcolor:"#EFEFEF",showland:!0,resolution:70,showframe:!1,showcoastlines:!1,showcountries:!0,xaxis:{fixedrange:!0},yaxis:{fixedrange:!0},lataxis:{range:[-68,90]},projection:{type:"robinson",scale:1}}},config:{scrollZoom:!1,displayModeBar:!1},style:{height:"100%",width:"100%"}})),r.a.createElement("div",{className:"map-with-summary__map-footer"},o?r.a.createElement($,{className:"cat-tooltip--info",position:"right",messagePrefix:"INSTRUCTIONS",message:o},r.a.createElement("button",{type:"button"},"i")):r.a.createElement("div",null),r.a.createElement("p",{className:"map-with-summary__last-updated"},n&&r.a.createElement(r.a.Fragment,null,"Last updated: ",n),r.a.createElement("i",null,"Map is for reference only")),r.a.createElement("div",null)))}var le=function(e){return e=e.reduce((function(e,t,a){return e.locations.push(t.country_code),e.z.push(t.rating),e.text.push(t.name),e}),{z:[],locations:[],text:[]})};function ue(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=t[0],o=t[1];function i(e){s()}function s(){o(window.scrollY>50)}return r.a.useEffect((function(){return s(),window.addEventListener("scroll",i),function(){window.removeEventListener("scroll",i)}}),[]),a?r.a.createElement("button",{className:"scroll-to-top",role:"button",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}},r.a.createElement("i",{className:"icon icon-icons_18"}),"Back to top"):""}var de=a(73),pe=a(128),he=a(223),me=(a(492),["mode"]);function fe(e){var t=e.graphUrl,a=e.options,n=e.sectors,o=e.scenarios,i=e.dataLastUpdatedDate,s=Object(pe.a)({triggerOnce:!0}),c=Object(b.a)(s,2),l=c[0],u=c[1],d=new URLSearchParams(t.split("?")[1]),p=Array.from(d.keys()).reduce((function(e,t){return Object(v.a)(Object(v.a)({},e),{},Object(g.a)({},t,d.getAll(t)))}),{}),h=p.mode,m=Object(de.a)(p,me),f=h[0];return r.a.createElement("div",{ref:l},u&&r.a.createElement("a",{className:"dataportal_graph_embed",href:t},r.a.createElement(he.a,{onFilterChange:function(){},onErrors:function(){},filterValues:m,mode:f,options:a,sectors:n,scenarios:o,isEmbed:!0,dataLastUpdatedDate:i})))}var ge,ve,be=function(){function e(){Object(u.a)(this,e),document.addEventListener("click",this.__handleClick.bind(this))}return Object(d.a)(e,[{key:"isShown",value:function(e){return e.classList.contains("show")}},{key:"show",value:function(e){e.classList.add("show");var t=this.__getPropagateTarget(e);t.classList.add("show"),t.setAttribute("aria-hidden","false"),this.hideAllSiblings(e)}},{key:"hide",value:function(e){e.classList.remove("show");var t=this.__getPropagateTarget(e);t.classList.remove("show"),t.setAttribute("aria-hidden","true")}},{key:"hideAllSiblings",value:function(e){var t=this;this.__getSiblings(e).forEach((function(e){return t.isShown(e)&&t.hide(e)}))}},{key:"hideAllChildren",value:function(e){var t=this;Array.from(e.querySelectorAll("[data-deep-toggle]")).forEach((function(e){var a=t.__getToggleTarget(e);t.isShown(a)&&t.hide(a)}))}},{key:"__handleClick",value:function(e){if(e.target.matches("[data-deep-toggle]")){e.preventDefault();var t=this.__getToggleTarget(e.target);t.classList.contains("show")?(this.hide(t),this.hideAllChildren(t)):this.show(t)}else e.target.closest("[data-deep-toggle-propagate-target]")||this.hideAllChildren(document)}},{key:"__getToggleTarget",value:function(e){return e.closest(e.dataset.deepToggle)}},{key:"__getPropagateTarget",value:function(e){return e.querySelector(e.dataset.deepTogglePropagateTarget)}},{key:"__getSiblings",value:function(e){var t=[];if(!e.parentNode)return t;for(var a=e.parentNode.firstChild;a;)1===a.nodeType&&a!==e&&t.push(a),a=a.nextSibling;return t}}]),e}();ge=l()({loader:function(){return Promise.all([a.e(3),a.e(6)]).then(a.bind(null,604))},loading:function(){return r.a.createElement("p",null,"Loading...")}}),ve=l()({loader:function(){return Promise.all([a.e(4),a.e(5)]).then(a.bind(null,605))},loading:function(){return r.a.createElement("p",null,"Loading...")}}),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("[data-component-nav-search]");e&&i.a.render(r.a.createElement(oe,null),e),Array.from(document.querySelectorAll("[data-component-graph]")).forEach((function(e){var t=JSON.parse(e.dataset.propsGraphData),a=JSON.parse(e.dataset.propsLayoutData);t&&a&&i.a.render(r.a.createElement(z.b,{graph_data:t,layout_data:a,complete:!0,responsive:!0}),e)})),Array.from(document.querySelectorAll("[data-component-graph-editor]")).forEach((function(e){i.a.render(r.a.createElement(s.a,{store:ie.a},r.a.createElement(ge,null)),e)})),Array.from(document.querySelectorAll("[data-component-simple-map]")).forEach((function(e){i.a.render(r.a.createElement(ne,{heading:e.dataset.propsHeading,data:JSON.parse(e.dataset.propsMapdata),ratings:JSON.parse(e.dataset.propsRatingsdata),assessments:e.dataset.propsAssessmentsdata?JSON.parse(e.dataset.propsAssessmentsdata):void 0,lastUpdateDate:e.dataset.propsLastupdatedate}),e)})),Array.from(document.querySelectorAll("[data-component-map]")).forEach((function(e){i.a.render(r.a.createElement(ne,{heading:e.dataset.propsHeading,data:JSON.parse(e.dataset.propsMapdata),ratings:JSON.parse(e.dataset.propsRatingsdata),lastUpdateDate:e.dataset.propsLastupdatedate,assessments:e.dataset.propsAssessmentsdata?JSON.parse(e.dataset.propsAssessmentsdata):void 0,extendedFilters:!0}),e)})),Array.from(document.querySelectorAll("[data-component-graph-editor]")).forEach((function(e){i.a.render(r.a.createElement(s.a,{store:ie.a},r.a.createElement(ge,null)),e)})),Array.from(document.querySelectorAll("[data-component-twitter-feed]")).forEach((function(e,t){i.a.render(r.a.createElement(M,{key:t,heading:e.dataset.propsHeading,ids:JSON.parse(e.dataset.propsIds)}),e)}));var t=document.getElementById("dataportal");t&&i.a.render(r.a.createElement(ve,{options:JSON.parse(t.dataset.propsOptions),scenarios:JSON.parse(t.dataset.propsScenarios),sectors:JSON.parse(t.dataset.propsSectors),publicDataDownload:t.dataset.propsPublicDataDownload,footnotes:t.dataset.propsFootnotes?JSON.parse(t.dataset.propsFootnotes):null,aboutPortal:t.dataset.propsAboutPortal?JSON.parse(t.dataset.propsAboutPortal):null,indicatorHelpText:t.dataset.propsIndicatorHelpText?JSON.parse(t.dataset.propsIndicatorHelpText):null,scenarioHelpText:t.dataset.propsScenarioHelpText?JSON.parse(t.dataset.propsScenarioHelpText):null,dataLastUpdatedDate:t.dataset.propsDataLastUpdatedDate}),t),y("[data-component-graph-embed]",J),Array.from(document.querySelectorAll("[data-component-dataportal-graph-embed]")).forEach((function(e,t){i.a.render(r.a.createElement(fe,{key:t,graphUrl:e.dataset.propsGraphUrl,options:JSON.parse(e.dataset.propsOptions),scenarios:JSON.parse(e.dataset.propsScenarios),sectors:JSON.parse(e.dataset.propsSectors),dataLastUpdatedDate:e.dataset.propsDataLastUpdatedDate}),e)})),y("[data-component-tracker-map]",ce),y("[data-component-scroll-to-top]",ue)})),document.addEventListener("DOMContentLoaded",(function(){new I,new be,Array.from(document.querySelectorAll("[data-vanilla-slider]")).forEach((function(e){var t=e.dataset.vanillaSliderAutoCycle;new C(e,{autoCycleEvery:1e3*(t?parseInt(t):0)})})),Array.from(document.querySelectorAll("[data-vanilla-url-jump-form]")).forEach((function(e){new N(e)})),Array.from(document.querySelectorAll("[data-vanilla-collapsible-sections] .content-section__left-side h3")).forEach((function(e,t){e.dataset.sectionTarget||(e.dataset.sectionTarget=".content-section--has-left-side",e.dataset.contentTarget=".content-section__content",e.classList.add(0===t?"expanded":"collapsed"),new A(e))})),Array.from(document.querySelectorAll("[data-section-header-expandable]")).forEach((function(e){new A(e)})),Array.from(document.querySelectorAll("[data-vanilla-newsletter-popup]")).forEach((function(e){new T(e,{showEveryDays:e.dataset.showEveryDays?parseInt(e.dataset.showEveryDays):7})})),Array.from(document.querySelectorAll("[data-vanilla-country-ratings]")).forEach((function(e){new L(e)})),Array.from(document.querySelectorAll("[data-vanilla-newsletter-popup]")).forEach((function(e){new T(e)})),function(){var e=document.querySelector(".navbar"),t=document.querySelector(".nav-second"),a=document.querySelector(".main-content"),n=function(){document.documentElement.clientWidth>=991?(document.body.classList.contains("has-fixed-subnav")||document.body.classList.add("has-fixed-subnav"),a.style.marginTop="".concat(e.offsetHeight+t.offsetHeight,"px")):(a.style.marginTop="4.5rem",document.body.classList.remove("has-fixed-subnav"))};e&&t&&a&&t.children.length>0&&(n(),window.addEventListener("resize",n))}();var e=window.jQuery;e&&e(".slick-slider").each((function(){e(this).slick({infinite:!1,dots:!0,dotsClass:"slide__dots",slidesToShow:4,slidesToScroll:4,prevArrow:'<div class="slide__arrow slide__arrow-left"><span class="icon icon-icons_19"></span></div>',nextArrow:'<div class="slide__arrow slide__arrow-right"><span class="icon icon-icons_17"></span></div>',appendArrows:e(this).parents(".slider").find(".slide__arrows"),responsive:[{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1}}]})}))}))},72:function(e,t,a){"use strict";a.d(t,"c",(function(){return S})),a.d(t,"b",(function(){return x})),a.d(t,"a",(function(){return C}));var n=a(21),r=a(20),o=a(2),i=a(6),s=a(129),c=a.n(s),l=a(7),u=a(8),d=a(230),p=a.n(d),h=a(130),m=function(e,t){return e.length===t.length&&e.every((function(e,a){return e===t[a]}))},f=function(e){return{x:e.map((function(e){return e.year})),y:e.map((function(e){return e.value}))}},g=function(e){var t=Object.keys(e),a=t.some((function(e){return e.endsWith("_min")}))&&t.some((function(e){return e.endsWith("_max")}));return t.length>1&&a&&!m.apply(void 0,Object(r.a)(Object.values(e).map((function(e){return e.map((function(e){return e.value}))}))))},v=function(e,t,a){return{hoverlabel:{bgcolor:a,bordercolor:a,font:{color:Object(h.a)(a)}},hoverinfo:"x+text",hovertext:e.map((function(e){return"".concat(t,"</br>").concat(Math.round(100*e.originalValue)/100," (").concat(e.unit,")")}))}},b=function(e,t,a,n){var r=n.label;return Object(o.a)(Object(o.a)(Object(o.a)({name:r,type:"scatter",mode:"markers"},f(t)),v(t,r,a.color)),{},{marker:{color:a.color,size:15,symbol:"triangle-up-dot"},customdata:{hasImage:!1}})},y=function(e,t,a,n){var r=n.label;return Object(o.a)(Object(o.a)(Object(o.a)({name:r,type:"lines",mode:"lines"},f(t)),v(t,r,a.color)),{},{line:{color:a.color,width:3}})},O=function(){function e(t,a,n){Object(l.a)(this,e),this.key=t,this.options=n.options,this.mode=n.mode,this.columns=JSON.parse(this.key);var r=this.columns,i=r.sector,s=r.country,u=r.scenario,d=r.indicator;this.sector=i,this.country=s,this.scenario=u,this.indicator=d,this.shapeConfig=function(e,t){var a=e.sector,n=e.scenario,r=e.country,i=(e.indicator,t.sectors[a]?Object(o.a)({},t.sectors[a]):{icon:"none.svg"});i.color=t.color;var s=i.color.toUpperCase();"#"===s.charAt(0)&&(s=s.slice(1)),i.icon="/static/icons/svg/generated/".concat(s,"/").concat(i.icon),"countries"===t.mode&&(i.icon="/static/countries/flags/1x1/".concat(r.toLowerCase(),".svg"));var c=t.scenarios.find((function(e){return e.value===n}));return i.scenarioConfig=c||{},i.scenarioConfig.plotlyShape||(i.scenarioConfig.plotlyShape={}),i}(this.columns,n),this.scenarioConfig=this.shapeConfig.scenarioConfig,this.dataGroup=c()(this.preprocessValues(a,this.scenarioConfig.groupByYear),"variable")}return Object(u.a)(e,[{key:"preprocessValues",value:function(e,t){return t?e.map((function(e){return t&&(e.variable="".concat(e.scenario,"_").concat(e.year)),e})):e}},{key:"buildTraces",value:function(e){var t,a=this,n=Object.values(e).join(" "),r=function(e,t){var a=e.sector,n=e.country,r=e.indicator,o=e.scenario,i="";switch(t){case"indicators":i="<b>".concat(a,"</b><i> (").concat(r,", ").concat(o,")</i>");break;case"countries":i="<b>".concat(n,"</b><i> (").concat(o,")</i>")}return i}(e,this.mode);return t=this.dataGroup,(g(t)&&Object.values(t).every((function(e){return 1===e.length}))?function(e,t,a,n){var r=n.label,i=Object.keys(t).find((function(e){return e.endsWith("_min")})),s=Object.keys(t).find((function(e){return e.endsWith("_max")}));return[Object(o.a)(Object(o.a)(Object(o.a)({name:r,type:"scatter",mode:"markers"},f(t[i])),v(t[i],r,a.color)),{},{marker:{color:a.color,size:10,symbol:"square"},customdata:{hasImage:!1}}),Object(o.a)(Object(o.a)(Object(o.a)({name:r,type:"scatter",mode:"markers"},f(t[s])),v(t[s],r,a.color)),{},{marker:{color:a.color,size:10,symbol:"square"},customdata:{hasImage:!1}})]}(0,this.dataGroup,this.shapeConfig,{label:r}):g(this.dataGroup)?function(e,t,a,n){var r=n.label,i=Object.keys(t).find((function(e){return e.endsWith("_min")})),s=Object.keys(t).find((function(e){return e.endsWith("_max")}));return[Object(o.a)(Object(o.a)(Object(o.a)({name:r,type:"lines",mode:"lines"},f(t[i])),v(t[i],r,a.color)),{},{line:{color:a.color,width:1},hoveron:"points+fills",customdata:{hasImage:!1}}),Object(o.a)(Object(o.a)(Object(o.a)({name:r,type:"lines",mode:"lines"},f(t[s])),v(t[s],r,a.color)),{},{fill:"tonexty",line:{color:a.color,width:1},customdata:{hasImage:!0}})]}(0,this.dataGroup,this.shapeConfig,{label:r}):Object.values(this.dataGroup).map((function(e){return(1===e.length?b:y)(n,e,a.shapeConfig,{label:r})}))).map((function(e){return a.scenarioConfig.hideImage&&(e.customdata.hasImage=!1),e})).map((function(e){return p()(e,a.scenarioConfig.plotlyShape||{})})).map((function(e){return e.marker&&e.marker.line&&e.line.color&&(e.marker.line.color=e.line.color),e})).map((function(e){return a.alterTrace(e)})).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{customdata:Object(o.a)(Object(o.a)({},e.customdata||{}),{color:a.shapeConfig.color,dataGroupKey:a.key,unit:Object.values(a.dataGroup)[0][0].unit})})}))}},{key:"alterTrace",value:function(e){return e}},{key:"getLabelParts",value:function(){var e=this;return Object.entries(this.columns).reduce((function(t,a){var n=Object(i.a)(a,2),r=n[0],o=n[1];return t[r]=function(e,t){var a=t.find((function(t){return t.value===e}));return a?a.label:""}(o,e.options[r]||[]),t}),{})}},{key:"getImages",value:function(e){var t=this;if(!e||!e.length||!e[0].x||!e[0].x.length)return[];var a=[];return Object.values(e).forEach((function(e,n){e.customdata&&!1===e.customdata.hasImage||0<=n&&a.push({source:"".concat(t.shapeConfig.icon),x:e.x[e.x.length-1]+(t.scenarioConfig.iconXOffset||0),y:e.y[e.y.length-1],xref:"x",yref:"y",yanchor:(t.scenarioConfig.groupByYear,"middle"),xanchor:t.scenarioConfig.groupByYear?"bottom":"left",layer:"above"})})),a}},{key:"getLabel",value:function(e,t,a){return{labelParts:e,icon:a&&a.length?a[0].source:void 0,color:t&&t.length?t[0].customdata.color:void 0,lineStyle:t[0].line&&t[0].line.dash?t[0].line.dash:"solid"}}},{key:"shape",value:function(){var e=this.getLabelParts(),t=this.buildTraces(e),a=this.getImages(t);return{groupName:this.key,groupData:this.columns,plotlyShape:this.scenarioConfig.plotlyShape,traces:t,images:a,label:this.getLabel(e,t,a)}}}]),e}(),E=function(){function e(){Object(l.a)(this,e),this.primaryColors=["#F06B4F","#64A656","#22A2CE","#A33120","#6A6464","#7F4795"],this.secondaryColors=["#FFB300","#C10020","#CEA262","#FF007D","#007D34","#F6768E","#00538A","#53377A","#FF8E00","#B32851","#7F180D","#93AA00","#F14A14","#232C16"],this.pickedColors=[]}return Object(u.a)(e,[{key:"getAvailableColors",value:function(e){var t=this;return e.filter((function(e){return!t.pickedColors.includes(e)}))}},{key:"randomColor",value:function(){var e=this.getAvailableColors(this.primaryColors);0===e.length&&0===(e=this.getAvailableColors(this.secondaryColors)).length&&(this.pickedColors=[],e=this.getAvailableColors(this.primaryColors));var t=w(e);return this.pickedColors.push(t),t}}]),e}();function w(e){return e[Math.floor(Math.random()*e.length)]}var j={countries:{},indicators:{}},_={countries:new E,indicators:new E},S=function(e,t){var a="indicators"===t.mode?"indicator":"country";return Object.entries(e).sort(k).map((function(e){var n=Object(i.a)(e,2),r=n[0],s=n[1],c=s[0][a];return j[t.mode][c]||(j[t.mode][c]=_[t.mode].randomColor()),new O(r,s,Object(o.a)(Object(o.a)({},t),{},{color:j[t.mode][c]})).shape()}))};function k(e,t){var a=Object(i.a)(e,2),n=(a[0],a[1]),o=Object(i.a)(t,2),s=(o[0],o[1]),c=Math.max.apply(Math,Object(r.a)(n.map((function(e){return e.value}))));return Math.max.apply(Math,Object(r.a)(s.map((function(e){return e.value}))))-c}var x=function(e,t){return c()(e,(function(e){return function(e,t){return JSON.stringify(t.reduce((function(t,a){return Object(o.a)(Object(o.a)({},t),{},Object(n.a)({},a,e[a]))}),{}))}(e,t)}))},C=function(e){return Object.keys(e).filter((function(t){return e[t].length}))}},99:function(e,t,a){"use strict";var n=a(6),r=a(73),o=a(0),i=a.n(o),s=a(224),c=a.n(s),l=["label","children"];t.a=function(e){var t=e.label,a=e.children,s=Object(r.a)(e,l),u=Object(o.useState)(!1),d=Object(n.a)(u,2),p=d[0],h=d[1];return i.a.createElement(c.a,{onClickOut:function(){h(!1)}},i.a.createElement("div",{style:{display:"inline-block"},className:"dropdown button-dropdown ".concat(p?"button-dropdown--expanded":"")},i.a.createElement("button",Object.assign({onClick:function(){return h(!p)}},s,{className:"".concat(s.className),type:"button",id:"dropdownMenuButton","aria-haspopup":"true","aria-expanded":p.toString()}),t),i.a.createElement("div",{className:"dropdown-menu ".concat(p?"show":""),"aria-labelledby":"dropdownMenuButton"},a)))}}},[[232,1,2]]]);
